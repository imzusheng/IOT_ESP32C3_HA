# ESP32-C3 MicroPython IoT é¡¹ç›®

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäºESP32-C3çš„MicroPythonç‰©è”ç½‘è®¾å¤‡é¡¹ç›®ï¼Œä¸“ä¸ºHome Assistantæ™ºèƒ½å®¶å±…ç³»ç»Ÿè®¾è®¡ã€‚é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–æ¶æ„ï¼Œæä¾›WiFiè¿æ¥ã€MQTTé€šä¿¡ã€ç³»ç»Ÿç›‘æ§ã€LEDçŠ¶æ€æŒ‡ç¤ºå’Œé”™è¯¯æ¢å¤ç­‰åŠŸèƒ½ï¼Œç¡®ä¿è®¾å¤‡åœ¨èµ„æºå—é™çš„åµŒå…¥å¼ç¯å¢ƒä¸­ç¨³å®šè¿è¡Œã€‚

## âœ¨ ä¸»è¦ç‰¹æ€§

- **å¤šç½‘ç»œWiFiæ”¯æŒ**: è‡ªåŠ¨æ‰«æå¹¶è¿æ¥ä¿¡å·æœ€å¼ºçš„é…ç½®ç½‘ç»œ
- **MQTTé€šä¿¡**: é«˜æ•ˆçš„MQTTå®¢æˆ·ç«¯ï¼Œæ”¯æŒæŒ‡æ•°é€€é¿é‡è¿ç­–ç•¥å’Œå†…å­˜ä¼˜åŒ–
- **ç³»ç»Ÿç›‘æ§**: å®æ—¶ç›‘æ§æ¸©åº¦ã€å†…å­˜ä½¿ç”¨å’Œç³»ç»Ÿå¥åº·çŠ¶æ€
- **é”™è¯¯æ¢å¤**: æ™ºèƒ½é”™è¯¯å¤„ç†å’Œè‡ªåŠ¨æ¢å¤æœºåˆ¶
- **å†…å­˜ç®¡ç†**: ä¼˜åŒ–çš„åƒåœ¾å›æ”¶ç­–ç•¥ï¼Œé€‚åˆESP32C3çš„264KBå†…å­˜é™åˆ¶
- **çœ‹é—¨ç‹—ä¿æŠ¤**: é˜²æ­¢ç³»ç»Ÿæ­»é”ï¼Œç¡®ä¿è®¾å¤‡ç¨³å®šè¿è¡Œ
- **LEDçŠ¶æ€æŒ‡ç¤º**: é€šè¿‡LEDæ˜¾ç¤ºè®¾å¤‡è¿è¡ŒçŠ¶æ€ï¼Œæ”¯æŒå¤šç§é¢„è®¾æ¨¡å¼
- **é…ç½®ç®¡ç†**: çµæ´»çš„é…ç½®ç³»ç»Ÿï¼Œæ”¯æŒè¿è¡Œæ—¶éªŒè¯
- **Webé…ç½®ç•Œé¢**: åŸºäºWeb Bluetoothçš„é…ç½®å·¥å…·ï¼Œæ”¯æŒAppleè®¾è®¡é£æ ¼

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

### æ ¸å¿ƒç»„ä»¶

1. **ä¸»åº”ç”¨ç¨‹åº** ([`src/main.py`](src/main.py))
   - ç³»ç»Ÿä¸»æ§åˆ¶ä¸­å¿ƒï¼Œåè°ƒå„æ¨¡å—è¿è¡Œ
   - å®ç°ä¸»å¾ªç¯ã€å†…å­˜ç®¡ç†å’Œçœ‹é—¨ç‹—å–‚ç‹—
   - é›†æˆé…ç½®ç®¡ç†å™¨ã€WiFiè¿æ¥ã€MQTTé€šä¿¡å’Œå®ˆæŠ¤è¿›ç¨‹
   - LEDçŠ¶æ€æŒ‡ç¤ºå’Œç³»ç»Ÿç›‘æ§åŠŸèƒ½

2. **é…ç½®ç®¡ç†** ([`src/config.py`](src/config.py))
   - é›†ä¸­å¼é…ç½®ç®¡ç†ï¼Œä½¿ç”¨Pythonå­—å…¸å®šä¹‰æ‰€æœ‰å‚æ•°
   - è¯¦ç»†çš„é…ç½®è¯´æ˜å’Œæ¨èå€¼
   - åˆ†æ¨¡å—é…ç½®ï¼šMQTTã€WiFiã€å®ˆæŠ¤è¿›ç¨‹ã€ç³»ç»Ÿã€è®¾å¤‡é…ç½®
   - å†…å­˜ä¼˜åŒ–ï¼šé¿å…JSONæ–‡ä»¶ï¼Œå‡å°‘I/Oæ“ä½œ

3. **WiFiç®¡ç†å™¨** ([`src/lib/net_wifi.py`](src/lib/net_wifi.py))
   - å¥å£®çš„WiFiè¿æ¥ç®¡ç†ï¼Œæ”¯æŒå¤šç½‘ç»œé€‰æ‹©
   - è‡ªåŠ¨ç½‘ç»œæ‰«æå’ŒRSSI-basedæ’åº
   - NTPæ—¶é—´åŒæ­¥å’Œæ—¶åŒºè®¾ç½®
   - è¿æ¥è¶…æ—¶å¤„ç†å’Œé”™è¯¯æ¢å¤

4. **MQTTå®¢æˆ·ç«¯** ([`src/lib/net_mqtt.py`](src/lib/net_mqtt.py))
   - åŸºäºumqtt.simpleçš„è‡ªå®šä¹‰MQTTåŒ…è£…å™¨
   - æ™ºèƒ½è¿æ¥ç®¡ç†å’ŒæŒ‡æ•°é€€é¿é‡è¿æœºåˆ¶
   - å†…å­˜ä¼˜åŒ–çš„æ—¥å¿—å‘é€ï¼ˆä½¿ç”¨bytearrayï¼‰
   - å¿ƒè·³ç›‘æ§å’Œè¿æ¥çŠ¶æ€è·Ÿè¸ª
   - é‡è¿å†·å´æ—¶é—´å’Œé‡ç½®æœºåˆ¶

5. **ç³»ç»Ÿå®ˆæŠ¤è¿›ç¨‹** ([`src/sys_daemon.py`](src/sys_daemon.py))
   - ç³»ç»Ÿç›‘æ§å’Œå®‰å…¨ä¿æŠ¤åŠŸèƒ½
   - LEDçŠ¶æ€æŒ‡ç¤ºæ§åˆ¶
   - æ¸©åº¦ç›‘æ§å’Œå®‰å…¨æ¨¡å¼
   - å†…å­˜ç›‘æ§å’Œåƒåœ¾å›æ”¶
   - ç³»ç»Ÿå¥åº·æ£€æŸ¥å’Œé”™è¯¯æ¢å¤

6. **é”™è¯¯æ¢å¤ç®¡ç†å™¨** ([`src/lib/sys/erm.py`](src/lib/sys/erm.py))
   - ç»Ÿä¸€é”™è¯¯å¤„ç†å’Œæ¢å¤ç­–ç•¥ç®¡ç†
   - åˆ†çº§æ¢å¤åŠ¨ä½œï¼šç½‘ç»œã€å†…å­˜ã€æœåŠ¡ã€ç³»ç»Ÿã€ç¡¬ä»¶æ¢å¤
   - æ¢å¤æˆåŠŸç‡ç»Ÿè®¡å’Œå†·å´æ—¶é—´ç®¡ç†
   - æ™ºèƒ½æ¢å¤è°ƒåº¦å’Œé”™è¯¯å¤„ç†

7. **çŠ¶æ€æœºç³»ç»Ÿ** ([`src/lib/sys/fsm.py`](src/lib/sys/fsm.py))
   - æ¸…æ™°çš„ç³»ç»ŸçŠ¶æ€ç®¡ç†
   - äº‹ä»¶é©±åŠ¨çš„çŠ¶æ€è½¬æ¢
   - æ”¯æŒINITã€NETWORKINGã€RUNNINGã€WARNINGã€ERRORã€SAFE_MODEã€RECOVERYã€SHUTDOWNçŠ¶æ€
   - çŠ¶æ€å†å²è®°å½•å’Œç›‘æ§

8. **å†…å­˜ä¼˜åŒ–å™¨** ([`src/lib/sys/memo.py`](src/lib/sys/memo.py))
   - é«˜æ•ˆçš„å¯¹è±¡æ± å’Œç¼“å­˜ç®¡ç†
   - å­—å…¸å¯¹è±¡æ± ã€å­—ç¬¦ä¸²ç¼“å­˜ã€ç¼“å†²åŒºç®¡ç†
   - å‡å°‘å†…å­˜åˆ†é…å’Œåƒåœ¾å›æ”¶å¼€é”€
   - æ™ºèƒ½å†…å­˜ç®¡ç†åŠŸèƒ½

9. **æ—¥å¿—ç³»ç»Ÿ** ([`src/lib/sys/logger.py`](src/lib/sys/logger.py))
   - ç»Ÿä¸€çš„æ—¥å¿—ç®¡ç†
   - é”™è¯¯åˆ†ç±»å’Œç»Ÿè®¡
   - MQTTæ—¥å¿—å‘é€
   - å†…å­˜å‹å¥½çš„æ—¥å¿—ç¼“å†²

10. **LEDæ§åˆ¶** ([`src/lib/sys/led.py`](src/lib/sys/led.py))
    - ç»Ÿä¸€çš„LEDçŠ¶æ€æŒ‡ç¤ºç®¡ç†
    - å¤šç§é¢„è®¾é—ªçƒæ¨¡å¼
    - ç³»ç»ŸçŠ¶æ€å¯è§†åŒ–
    - å•ä¾‹æ¨¡å¼è®¾è®¡ï¼Œé¿å…é‡å¤åˆå§‹åŒ–

11. **å·¥å…·å‡½æ•°** ([`src/lib/utils.py`](src/lib/utils.py))
    - é€šç”¨å·¥å…·å‡½æ•°åº“
    - å†…å­˜æ£€æŸ¥å’Œæ ¼å¼åŒ–
    - å­—ç¬¦ä¸²å¤„ç†
    - ç³»ç»Ÿä¿¡æ¯è·å–

12. **å¯åŠ¨åºåˆ—** ([`src/boot.py`](src/boot.py))
    - åƒåœ¾å›æ”¶åˆå§‹åŒ–
    - æœ€å°åŒ–çš„MicroPythonå¯åŠ¨è„šæœ¬

## âš™ï¸ é…ç½®è¯´æ˜

### é…ç½®æ–‡ä»¶ç»“æ„

é¡¹ç›®ä½¿ç”¨çº¯Pythoné…ç½®ç³»ç»Ÿï¼š
- [`src/config.py`](src/config.py): Pythonå­—å…¸é…ç½®ï¼ˆä¸»è¦é…ç½®å’ŒéªŒè¯è§„åˆ™ï¼‰

### ä¸»è¦é…ç½®é¡¹

#### MQTTé…ç½®
```python
"mqtt": {
    "broker": "192.168.3.15",        # MQTTæœåŠ¡å™¨åœ°å€
    "port": 1883,                   # MQTTç«¯å£
    "topic": "lzs/esp32c3",         # MQTTä¸»é¢˜
    "keepalive": 60,                # å¿ƒè·³é—´éš”(ç§’)
    "reconnect_delay": 5,            # é‡è¿å»¶è¿Ÿ(ç§’)
    "max_retries": 3,                # æœ€å¤§é‡è¯•æ¬¡æ•°
    "exponential_backoff": True,     # å¯ç”¨æŒ‡æ•°é€€é¿ç­–ç•¥
    "max_backoff_time": 300,         # æœ€å¤§é€€é¿æ—¶é—´(ç§’)
    "backoff_multiplier": 2          # é€€é¿å€æ•°å› å­
}
```

#### WiFié…ç½®
```python
"wifi": {
    "networks": [                   # WiFiç½‘ç»œåˆ—è¡¨
        {"ssid": "zsm60p", "password": "25845600"},
        {"ssid": "leju_software", "password": "leju123456"}
    ],
    "config": {
        "timeout": 15,              # è¿æ¥è¶…æ—¶(ç§’)
        "scan_interval": 30,        # æ‰«æé—´éš”(ç§’)
        "retry_delay": 2,           # é‡è¯•å»¶è¿Ÿ(ç§’)
        "max_attempts": 3           # æœ€å¤§å°è¯•æ¬¡æ•°
    }
}
```

#### å®ˆæŠ¤è¿›ç¨‹é…ç½®
```python
"daemon": {
    "config": {
        "led_pins": [12, 13],       # LEDå¼•è„š
        "timer_id": 0,              # å®šæ—¶å™¨ID
        "monitor_interval": 5000,    # ç›‘æ§é—´éš”(æ¯«ç§’)
        "temp_threshold": 65,       # æ¸©åº¦é˜ˆå€¼(Â°C)
        "temp_hysteresis": 5,       # æ¸©åº¦è¿Ÿæ»(Â°C)
        "memory_threshold": 80,     # å†…å­˜é˜ˆå€¼(%)
        "memory_hysteresis": 10,    # å†…å­˜è¿Ÿæ»(%)
        "max_error_count": 10,      # æœ€å¤§é”™è¯¯æ•°
        "safe_mode_cooldown": 60000 # å®‰å…¨æ¨¡å¼å†·å´(æ¯«ç§’)
    },
    "wdt_timeout": 120000,          # çœ‹é—¨ç‹—è¶…æ—¶(æ¯«ç§’)
    "wdt_enabled": False,           # çœ‹é—¨ç‹—å¼€å…³
    "gc_force_threshold": 95        # å¼ºåˆ¶GCé˜ˆå€¼(%)
}
```

#### ç³»ç»Ÿé…ç½®
```python
"system": {
    "debug_mode": False,            # è°ƒè¯•æ¨¡å¼
    "log_level": "INFO",            # æ—¥å¿—çº§åˆ«
    "main_loop_delay": 300,         # ä¸»å¾ªç¯å»¶è¿Ÿ(æ¯«ç§’)
    "status_report_interval": 50,   # çŠ¶æ€æŠ¥å‘Šé—´éš”(å¾ªç¯æ¬¡æ•°)
    "auto_restart_enabled": False   # è‡ªåŠ¨é‡å¯å¼€å…³
}
```

#### è®¾å¤‡é…ç½®
```python
"device": {
    "name": "ESP32C3-IOT",          # è®¾å¤‡åç§°
    "location": "æœªçŸ¥ä½ç½®",         # è®¾å¤‡ä½ç½®
    "firmware_version": "1.0.0"     # å›ºä»¶ç‰ˆæœ¬
}
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¡¬ä»¶è¦æ±‚

- ESP32-C3å¼€å‘æ¿
- LEDæŒ‡ç¤ºç¯ï¼ˆè¿æ¥åˆ°GPIO 12å’Œ13ï¼‰
- USBæ•°æ®çº¿

### è½¯ä»¶ä¾èµ–

- **MicroPythonå›ºä»¶**: ESP32-C3æ”¯æŒçš„MicroPythonç‰ˆæœ¬
- **umqtt.simple**: è½»é‡çº§MQTTå®¢æˆ·ç«¯åº“ ([`src/lib/umqtt/simple.py`](src/lib/umqtt/simple.py))
- **MicroPythonæ ‡å‡†åº“**: network, time, machine, ntptime, gc

### å®‰è£…æ­¥éª¤

1. **åˆ·å†™MicroPythonå›ºä»¶**
   ```bash
   # ä½¿ç”¨esptoolåˆ·å†™å›ºä»¶
   esptool.py --chip esp32c3 --port COMx erase_flash
   esptool.py --chip esp32c3 --port COMx write_flash -z 0x0 firmware.bin
   ```

2. **ä¸Šä¼ é¡¹ç›®æ–‡ä»¶**
   ```bash
   # ä½¿ç”¨rshellæˆ–ç±»ä¼¼å·¥å…·
   rshell cp src/boot.py /pyboard/boot.py
   rshell cp src/config.py /pyboard/config.py
   rshell cp src/main.py /pyboard/main.py
   rshell cp src/lib/ /pyboard/lib/ -r
   ```

3. **é…ç½®è®¾å¤‡**
   - ä¿®æ”¹ [`src/config.py`](src/config.py) ä¸­çš„é…ç½®é¡¹
   - æˆ–ä½¿ç”¨Webé…ç½®ç•Œé¢è¿›è¡Œé…ç½®

4. **é‡å¯è®¾å¤‡**
   ```bash
   # é‡å¯è®¾å¤‡
   rshell repl ~ import machine ~ machine.reset()
   ```

### Webé…ç½®ç•Œé¢

é¡¹ç›®åŒ…å«åŸºäºWeb Bluetoothçš„é…ç½®ç•Œé¢ï¼š

- **ä½ç½®**: [`web/index.html`](web/index.html)
- **åŠŸèƒ½**: è“ç‰™è¿æ¥ã€WiFié…ç½®ã€MQTTé…ç½®ã€è®¾å¤‡é…ç½®
- **è®¾è®¡**: Appleè®¾è®¡é£æ ¼ï¼Œå“åº”å¼å¸ƒå±€
- **æµè§ˆå™¨è¦æ±‚**: æ”¯æŒWeb Bluetooth APIçš„ç°ä»£æµè§ˆå™¨

#### ä½¿ç”¨Webé…ç½®ç•Œé¢

1. **æ‰“å¼€é¡µé¢**
   ```bash
   # åœ¨æ”¯æŒWeb Bluetooth APIçš„æµè§ˆå™¨ä¸­æ‰“å¼€
   # file:///path/to/your/project/web/index.html
   ```

2. **è¿æ¥è®¾å¤‡**
   - ç‚¹å‡»"è¿æ¥è®¾å¤‡"æŒ‰é’®
   - é€‰æ‹©ESP32C3è®¾å¤‡
   - ç­‰å¾…è¿æ¥å®Œæˆ

3. **é…ç½®å‚æ•°**
   - **WiFié…ç½®**: æ‰«æå¹¶æ·»åŠ WiFiç½‘ç»œ
   - **MQTTé…ç½®**: è®¾ç½®MQTTæœåŠ¡å™¨å‚æ•°
   - **è®¾å¤‡é…ç½®**: è®¾ç½®è®¾å¤‡åŸºæœ¬ä¿¡æ¯

4. **åº”ç”¨é…ç½®**
   - ä¿å­˜é…ç½®åé‡å¯è®¾å¤‡
   - è®¾å¤‡å°†ä½¿ç”¨æ–°é…ç½®è¿è¡Œ

## ğŸ“Š ç³»ç»ŸçŠ¶æ€

### çŠ¶æ€æœºç³»ç»Ÿ

ç³»ç»Ÿæ”¯æŒä»¥ä¸‹çŠ¶æ€ï¼š
- **INIT**: ç³»ç»Ÿåˆå§‹åŒ–
- **NETWORKING**: ç½‘ç»œè¿æ¥
- **RUNNING**: æ­£å¸¸è¿è¡Œ
- **WARNING**: è­¦å‘ŠçŠ¶æ€
- **ERROR**: é”™è¯¯çŠ¶æ€
- **SAFE_MODE**: å®‰å…¨æ¨¡å¼
- **RECOVERY**: æ¢å¤æ¨¡å¼
- **SHUTDOWN**: å…³æœºçŠ¶æ€

### LEDçŠ¶æ€æŒ‡ç¤º

- **normal**: æ­£å¸¸è¿è¡Œï¼ˆLED1äº®ï¼ŒLED2ç­ï¼‰
- **warning**: è­¦å‘ŠçŠ¶æ€ï¼ˆLED1äº®ï¼ŒLED2äº®ï¼‰
- **error**: é”™è¯¯çŠ¶æ€ï¼ˆLED1ç­ï¼ŒLED2äº®ï¼‰
- **off**: å…³é—­çŠ¶æ€ï¼ˆLED1ç­ï¼ŒLED2ç­ï¼‰
- **safe_mode**: å®‰å…¨æ¨¡å¼ï¼ˆSOSé—ªçƒæ¨¡å¼ï¼‰

### é¢„è®¾é—ªçƒæ¨¡å¼

- **å¿«é—ªä¸‰ä¸‹**: å¿«é€Ÿé—ªçƒä¸‰æ¬¡
- **ä¸€é•¿ä¸¤çŸ­**: ä¸€ä¸ªé•¿é—ªåŠ ä¸¤ä¸ªçŸ­é—ª
- **SOSæ±‚æ•‘ä¿¡å·**: æ ‡å‡†çš„SOSæ‘©å°”æ–¯ç”µç 
- **å¿ƒè·³æ¨¡å¼**: æ¨¡æ‹Ÿå¿ƒè·³èŠ‚å¥çš„é—ªçƒ
- **è­¦ç¯æ¨¡å¼**: åŒLEDäº¤æ›¿é—ªçƒ
- **éœ¹é›³æ¸¸ä¾ **: æ¥å›æ‰«ææ•ˆæœ
- **è®¡æ•°é—ªçƒ**: æ•°å­—è®¡æ•°é—ªçƒ
- **å‘¼å¸ç¯**: æ¸å˜å‘¼å¸æ•ˆæœ

## ğŸ”§ å¼€å‘å’Œæ„å»º

### æ„å»ºè„šæœ¬

ä½¿ç”¨ [`build.py`](build.py) è„šæœ¬æ„å»ºé¡¹ç›®ï¼š

```bash
# æ„å»ºé¡¹ç›®ï¼ˆæ’é™¤æµ‹è¯•æ–‡ä»¶ï¼‰
python build.py

# æ„å»ºé¡¹ç›®ï¼ˆåŒ…å«æµ‹è¯•æ–‡ä»¶ï¼‰
python build.py --test
```

æ„å»ºè„šæœ¬ä¼šï¼š
1. ç¼–è¯‘Pythonæ–‡ä»¶ä¸º.mpyæ ¼å¼ï¼ˆé™¤boot.pyå’Œmain.pyï¼‰
2. å¤åˆ¶æ‰€æœ‰æ–‡ä»¶åˆ°distç›®å½•
3. ä¿æŒç›®å½•ç»“æ„

### æµ‹è¯•

æµ‹è¯•æ–‡ä»¶ä½äº [`src/tests/`](src/tests/) ç›®å½•ï¼š

```bash
# è¿è¡Œå†…å­˜ä¼˜åŒ–æµ‹è¯•
python -m src.tests.test_mem_optimizer
```

## ğŸ“± ç›‘æ§å’Œè°ƒè¯•

### ç³»ç»Ÿç›‘æ§æŒ‡æ ‡

- å†…å­˜ä½¿ç”¨ç‡ï¼ˆå®æ—¶ç›‘æ§ï¼‰
- æ¸©åº¦ç›‘æ§ï¼ˆMCUå†…éƒ¨æ¸©åº¦ï¼‰
- é”™è¯¯è®¡æ•°å’Œç»Ÿè®¡
- ç½‘ç»œè¿æ¥çŠ¶æ€
- MQTTè¿æ¥çŠ¶æ€
- ç³»ç»Ÿè¿è¡Œæ—¶é—´

### è°ƒè¯•æŠ€å·§

- é€šè¿‡ä¸²å£æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
- ç›‘æ§å†…å­˜ä½¿ç”¨æƒ…å†µ
- æ£€æŸ¥LEDçŠ¶æ€æŒ‡ç¤º
- æŸ¥çœ‹é”™è¯¯ç»Ÿè®¡ä¿¡æ¯
- ä½¿ç”¨çŠ¶æ€æœºç›‘æ§ç³»ç»ŸçŠ¶æ€

### ä¸²å£æ—¥å¿—

è®¾å¤‡é€šè¿‡ä¸²å£è¾“å‡ºè¯¦ç»†æ—¥å¿—ï¼š
- WiFiè¿æ¥çŠ¶æ€
- MQTTè¿æ¥çŠ¶æ€
- å†…å­˜ä½¿ç”¨æŠ¥å‘Š
- ç³»ç»Ÿæ—¥å¿—
- LEDçŠ¶æ€æŒ‡ç¤º

## ğŸ›¡ï¸ é”™è¯¯å¤„ç†

### é”™è¯¯ç±»å‹åˆ†ç±»

- **NETWORK**: ç½‘ç»œè¿æ¥é”™è¯¯
- **HARDWARE**: ç¡¬ä»¶æ•…éšœ
- **MEMORY**: å†…å­˜ä¸è¶³
- **CONFIG**: é…ç½®é”™è¯¯
- **SYSTEM**: ç³»ç»Ÿé”™è¯¯
- **MQTT**: MQTTé€šä¿¡é”™è¯¯
- **WIFI**: WiFiè¿æ¥é”™è¯¯
- **DAEMON**: å®ˆæŠ¤è¿›ç¨‹é”™è¯¯
- **FATAL**: è‡´å‘½é”™è¯¯

### é”™è¯¯æ¢å¤ç­–ç•¥

- **é‡è¯•æœºåˆ¶**: è‡ªåŠ¨é‡è¯•å¤±è´¥æ“ä½œ
- **å†…å­˜æ¸…ç†**: æ·±åº¦åƒåœ¾å›æ”¶
- **è¿æ¥é‡ç½®**: é‡ç½®ç½‘ç»œè¿æ¥
- **å®‰å…¨æ¨¡å¼**: è¿›å…¥é™çº§è¿è¡Œæ¨¡å¼
- **ç³»ç»Ÿé‡å¯**: è‡´å‘½é”™è¯¯æ—¶è‡ªåŠ¨é‡å¯

### æ¢å¤ç®¡ç†å™¨

- **ç½‘ç»œæ¢å¤**: WiFié‡è¿ + MQTTé‡è¿
- **å†…å­˜æ¢å¤**: æ·±åº¦æ¸…ç† + å¯¹è±¡æ± é‡å»º
- **æœåŠ¡æ¢å¤**: å®ˆæŠ¤è¿›ç¨‹é‡å¯
- **ç³»ç»Ÿæ¢å¤**: çŠ¶æ€æœºç®¡ç† + å®‰å…¨æ¨¡å¼
- **ç¡¬ä»¶æ¢å¤**: ç³»ç»Ÿé‡å¯

## ğŸ“– ç¡¬ä»¶èµ„æº

### ESP32-C3 è§„æ ¼

- **å†…å­˜**: 264KB SRAM
- **å­˜å‚¨**: 4MB Flash
- **å¤„ç†å™¨**: RISC-V åŒæ ¸ 32ä½
- **æ— çº¿**: WiFi 802.11b/g/n
- **GPIO**: 22ä¸ªæ•°å­—IOå¼•è„š
- **æ¥å£**: SPI, I2C, UART, ADC

### å¼•è„šåˆ†é…

- **LED1**: GPIO 12
- **LED2**: GPIO 13
- **çœ‹é—¨ç‹—**: è½¯ä»¶å®ç°

## ğŸ’¡ å†…å­˜ç®¡ç†

é¡¹ç›®å®ç°ç²¾ç»†çš„å†…å­˜ç®¡ç†ï¼š

- **åƒåœ¾å›æ”¶ç­–ç•¥**: å®šæœŸ`gc.collect()`å’Œæ·±åº¦æ¸…ç†
- **å†…å­˜ç›‘æ§**: å®æ—¶ç›‘æ§`gc.mem_free()`å’Œä½¿ç”¨ç™¾åˆ†æ¯”
- **ä¼˜åŒ–æ•°æ®ç»“æ„**: ä½¿ç”¨bytearrayè¿›è¡ŒMQTTæ¶ˆæ¯æ‹¼æ¥
- **ç¼“å†²åŒºé™åˆ¶**: é™åˆ¶æ—¥å¿—å’Œé”™è¯¯å†å²è®°å½•å¤§å°
- **LEDçŠ¶æ€ç®¡ç†**: ä¼˜åŒ–çš„LEDæ§åˆ¶æ¨¡å¼ï¼Œå‡å°‘å†…å­˜å ç”¨

### å…³é”®å†…å­˜ä¼˜åŒ–æŠ€æœ¯

- å…¨å±€å˜é‡å‡å°‘å®ä¾‹åŒ–å¼€é”€
- æ™ºèƒ½åƒåœ¾å›æ”¶ï¼ˆæ ¹æ®å†…å­˜ä½¿ç”¨åŠ¨æ€è°ƒæ•´ï¼‰
- è½»é‡çº§æ•°æ®ç»“æ„
- é¿å…å¤æ‚å¯¹è±¡åˆ›å»º
- å®šæœŸå†…å­˜æ¸…ç†å’Œç›‘æ§

### å¯¹è±¡æ± ç³»ç»Ÿ

- **å­—å…¸å¯¹è±¡æ± **: é¿å…é¢‘ç¹åˆ›å»ºé”€æ¯å­—å…¸å¯¹è±¡
- **å­—ç¬¦ä¸²ç¼“å­˜**: ç¼“å­˜å¸¸ç”¨å­—ç¬¦ä¸²å‡å°‘å†…å­˜åˆ†é…
- **ç¼“å†²åŒºç®¡ç†**: é¢„åˆ†é…ç¼“å†²åŒºç®¡ç†å™¨
- **å†…å­˜ä¼˜åŒ–å™¨**: æä¾›å†…å­˜ç›‘æ§å’Œä¼˜åŒ–åŠŸèƒ½

## â° å®šæ—¶å™¨æ¶æ„

é¡¹ç›®é‡‡ç”¨åŒå®šæ—¶å™¨æ¶æ„ï¼Œå®ç°æ—¶é—´æ•æ„Ÿä»»åŠ¡å’Œä¸€èˆ¬ç®¡ç†ä»»åŠ¡çš„åˆ†ç¦»ï¼š

### å®šæ—¶å™¨ç±»å‹

#### 1. ç¡¬ä»¶å®šæ—¶å™¨ï¼ˆmachine.Timerï¼‰
- **ä½ç½®**: [`src/sys_daemon.py:418`](src/sys_daemon.py#L418)
- **é…ç½®**: `timer_id: 0`, `monitor_interval: 5000ms`
- **åˆå§‹åŒ–**: åœ¨å®ˆæŠ¤è¿›ç¨‹å¯åŠ¨æ—¶åˆ›å»º
- **é©±åŠ¨**: `machine.Timer.PERIODIC` æ¨¡å¼
- **å›è°ƒ**: [`_monitor_callback(timer)`](src/sys_daemon.py#L240)
- **åŠŸèƒ½**: ç³»ç»Ÿç›‘æ§ã€å¥åº·æ£€æŸ¥ã€LEDæ§åˆ¶ã€å®‰å…¨æ¨¡å¼ç®¡ç†

#### 2. è½¯ä»¶å¾ªç¯å®šæ—¶å™¨
- **ä½ç½®**: [`src/main.py:405`](src/main.py#L405)
- **é…ç½®**: `main_loop_delay: 300ms`ï¼ˆæ¥è‡ªé…ç½®æ–‡ä»¶ï¼‰
- **é©±åŠ¨**: `time.sleep_ms(loop_delay)`
- **åŠŸèƒ½**: ä¸»å¾ªç¯è°ƒåº¦ã€çœ‹é—¨ç‹—å–‚ç‹—ã€çŠ¶æ€æŠ¥å‘Šã€å†…å­˜ç®¡ç†

### é©±åŠ¨æœºåˆ¶

#### ç¡¬ä»¶å®šæ—¶å™¨
- ç”±MicroPythonçš„`machine.Timer`ç¡¬ä»¶å®šæ—¶å™¨é©±åŠ¨
- æ¯5msè§¦å‘ä¸€æ¬¡å›è°ƒå‡½æ•°
- ç”¨äºé«˜é¢‘ç›‘æ§ä»»åŠ¡
- ç¡¬ä»¶ä¸­æ–­é©±åŠ¨ï¼Œå“åº”æ—¶é—´ç²¾ç¡®

#### è½¯ä»¶å®šæ—¶å™¨
- ç”±ä¸»å¾ªç¯ä¸­çš„`time.sleep_ms()`é©±åŠ¨
- æ¯300mså¾ªç¯ä¸€æ¬¡
- ç”¨äºä½é¢‘ç®¡ç†ä»»åŠ¡
- è½¯ä»¶å»¶æ—¶é©±åŠ¨ï¼Œçµæ´»æ€§é«˜

### æ‰§è¡Œä½ç½®

#### ç¡¬ä»¶å®šæ—¶å™¨å›è°ƒ
- **æ–‡ä»¶**: [`src/sys_daemon.py`](src/sys_daemon.py)
- **å‡½æ•°**: `_monitor_callback(timer)` (ç¬¬240è¡Œ)
- **æ‰§è¡Œé¢‘ç‡**: æ¯5msæ‰§è¡Œä¸€æ¬¡

#### ä¸»å¾ªç¯
- **æ–‡ä»¶**: [`src/main.py`](src/main.py)
- **å‡½æ•°**: `main_loop()` (ç¬¬356è¡Œ)
- **æ‰§è¡Œé¢‘ç‡**: æ¯300mså¾ªç¯ä¸€æ¬¡

### åˆ†å·¥åä½œ

#### ç¡¬ä»¶å®šæ—¶å™¨èŒè´£
- ç³»ç»Ÿå¥åº·æ£€æŸ¥
- æ¸©åº¦å’Œå†…å­˜ç›‘æ§
- LEDçŠ¶æ€æ§åˆ¶
- å®‰å…¨æ¨¡å¼ç®¡ç†
- é”™è¯¯è®¡æ•°ç®¡ç†
- ç³»ç»ŸçŠ¶æ€è®°å½•

#### è½¯ä»¶å®šæ—¶å™¨èŒè´£
- çœ‹é—¨ç‹—å–‚ç‹—
- çŠ¶æ€æœºç®¡ç†
- å®šæœŸçŠ¶æ€æŠ¥å‘Š
- å†…å­˜ä¼˜åŒ–
- é”™è¯¯æ¢å¤è°ƒåº¦
- ç½‘ç»œè¿æ¥æ£€æŸ¥

### ä¼˜åŠ¿

1. **æ€§èƒ½ä¼˜åŒ–**: é«˜é¢‘ä»»åŠ¡å’Œä½é¢‘ä»»åŠ¡åˆ†ç¦»ï¼Œé¿å…ä¸»å¾ªç¯é˜»å¡
2. **å“åº”æ€§**: ç¡¬ä»¶å®šæ—¶å™¨ç¡®ä¿ç›‘æ§ä»»åŠ¡çš„åŠæ—¶å“åº”
3. **ç¨³å®šæ€§**: è½¯ä»¶å®šæ—¶å™¨å¤„ç†ç®¡ç†ä»»åŠ¡ï¼Œä¿è¯ç³»ç»Ÿç¨³å®šæ€§
4. **çµæ´»æ€§**: å¯ç‹¬ç«‹è°ƒæ•´ä¸¤ä¸ªå®šæ—¶å™¨çš„é¢‘ç‡å’Œä¼˜å…ˆçº§
5. **èµ„æºç®¡ç†**: åˆç†åˆ†é…CPUèµ„æºï¼Œé¿å…ä¸å¿…è¦çš„è½®è¯¢

### é…ç½®å‚æ•°

```python
# ç¡¬ä»¶å®šæ—¶å™¨é…ç½®
"daemon": {
    "config": {
        "timer_id": 0,              # å®šæ—¶å™¨ID
        "monitor_interval": 5000,    # ç›‘æ§é—´éš”(æ¯«ç§’)
    }
}

# è½¯ä»¶å®šæ—¶å™¨é…ç½®
"system": {
    "main_loop_delay": 300,         # ä¸»å¾ªç¯å»¶è¿Ÿ(æ¯«ç§’)
    "status_report_interval": 50,   # çŠ¶æ€æŠ¥å‘Šé—´éš”(å¾ªç¯æ¬¡æ•°)
}
```

## ğŸŒ ç½‘ç»œè¡Œä¸º

1. **å¯åŠ¨æµç¨‹**: boot.py â†’ main.py â†’ é…ç½®éªŒè¯ â†’ WiFiè¿æ¥
2. **WiFié€‰æ‹©**: æ‰«æç½‘ç»œ â†’ RSSIæ’åº â†’ è¿æ¥æœ€ä¼˜ç½‘ç»œ
3. **æ—¶é—´åŒæ­¥**: NTPæœåŠ¡å™¨åŒæ­¥ + æ—¶åŒºè®¾ç½®
4. **MQTTè¿æ¥**: è¿æ¥ä»£ç† â†’ å¼€å§‹å‘å¸ƒæ—¥å¿—
5. **å®ˆæŠ¤è¿›ç¨‹å¯åŠ¨**: å¼€å§‹ç³»ç»Ÿç›‘æ§ â†’ LEDæ§åˆ¶ â†’ ç³»ç»Ÿå¥åº·æ£€æŸ¥
6. **ä¸»å¾ªç¯**: çœ‹é—¨ç‹—å–‚ç‹— â†’ å†…å­˜ç®¡ç† â†’ çŠ¶æ€ç›‘æ§ â†’ LEDçŠ¶æ€æŒ‡ç¤º

## ğŸ”„ MQTT é‡è¿æœºåˆ¶

### æŒ‡æ•°é€€é¿ç­–ç•¥

å½“MQTTè¿æ¥æ–­å¼€æ—¶ï¼Œç³»ç»Ÿé‡‡ç”¨æ™ºèƒ½çš„æŒ‡æ•°é€€é¿é‡è¿ç­–ç•¥ï¼Œé¿å…é¢‘ç¹é‡è¯•æ¶ˆè€—èµ„æºï¼š

#### é‡è¿æµç¨‹
1. **ç¬¬1è½®**: ç«‹å³é‡è¯•3æ¬¡
2. **ç¬¬2è½®**: ç­‰å¾…5ç§’åé‡è¯•3æ¬¡
3. **ç¬¬3è½®**: ç­‰å¾…10ç§’åé‡è¯•3æ¬¡
4. **ç¬¬4è½®**: ç­‰å¾…20ç§’åé‡è¯•3æ¬¡
5. **ç¬¬5è½®**: ç­‰å¾…40ç§’åé‡è¯•3æ¬¡
6. **ç¬¬6è½®**: ç­‰å¾…80ç§’åé‡è¯•3æ¬¡
7. **ç¬¬7è½®**: ç­‰å¾…160ç§’åé‡è¯•3æ¬¡
8. **ç¬¬8è½®åŠä»¥å**: ç­‰å¾…300ç§’ï¼ˆæœ€å¤§å€¼ï¼‰åé‡è¯•3æ¬¡

#### é…ç½®å‚æ•°
- `exponential_backoff`: æ˜¯å¦å¯ç”¨æŒ‡æ•°é€€é¿ç­–ç•¥ï¼ˆé»˜è®¤ï¼šTrueï¼‰
- `max_backoff_time`: æœ€å¤§é€€é¿æ—¶é—´ï¼Œå•ä½ç§’ï¼ˆé»˜è®¤ï¼š300ï¼‰
- `backoff_multiplier`: é€€é¿å€æ•°å› å­ï¼ˆé»˜è®¤ï¼š2ï¼‰
- `reconnect_delay`: åˆå§‹é‡è¿å»¶è¿Ÿï¼Œå•ä½ç§’ï¼ˆé»˜è®¤ï¼š5ï¼‰
- `max_retries`: æ¯è½®æœ€å¤§é‡è¯•æ¬¡æ•°ï¼ˆé»˜è®¤ï¼š3ï¼‰

#### é‡è¿ç‰¹æ€§
- **æ¸è¿›å¼ç­‰å¾…**: é‡è¿é—´éš”æŒ‰æŒ‡æ•°å¢é•¿ï¼Œé¿å…æœåŠ¡å™¨å‹åŠ›
- **æœ€å¤§é™åˆ¶**: é€€é¿æ—¶é—´ä¸ä¼šè¶…è¿‡é…ç½®çš„æœ€å¤§å€¼
- **è‡ªåŠ¨é‡ç½®**: è¿æ¥æˆåŠŸåé‡ç½®æ‰€æœ‰è®¡æ•°å™¨
- **å†…å­˜ä¼˜åŒ–**: æ¯è½®é‡è¯•åæ‰§è¡Œåƒåœ¾å›æ”¶
- **çŠ¶æ€ç›‘æ§**: æä¾›è¯¦ç»†çš„è¿æ¥çŠ¶æ€å’Œé‡è¿ç»Ÿè®¡

#### æ—¥å¿—ç¤ºä¾‹
```
[MQTT] Connection failed (attempt 1/3): ECONNRESET
[MQTT] Connection failed (attempt 2/3): ECONNRESET
[MQTT] Connection failed (attempt 3/3): ECONNRESET
[MQTT] Starting exponential backoff: waiting 5s (cycle 1)
[MQTT] Starting exponential backoff: waiting 10s (cycle 2)
[MQTT] Starting exponential backoff: waiting 20s (cycle 3)
[MQTT] MQTT connection successful
```

## ğŸ”„ ç³»ç»Ÿå·¥ä½œæµç¨‹

### ä¸»å¾ªç¯æµç¨‹

```
å–‚ç‹— â†’ å†…å­˜ç›‘æ§ â†’ å®ˆæŠ¤è¿›ç¨‹çŠ¶æ€æ£€æŸ¥ â†’ å®‰å…¨æ¨¡å¼åˆ¤æ–­ â†’ 
MQTTè¿æ¥æ£€æŸ¥ â†’ LEDçŠ¶æ€æ£€æŸ¥ â†’ çŠ¶æ€æŠ¥å‘Š â†’ å»¶è¿Ÿ
```

### é”™è¯¯å¤„ç†æµç¨‹

```
é”™è¯¯å‘ç”Ÿ â†’ é”™è¯¯åˆ†ç±» â†’ ä¸¥é‡ç¨‹åº¦åˆ¤æ–­ â†’ æ‰§è¡Œæ¢å¤åŠ¨ä½œ â†’ 
è®°å½•æ—¥å¿— â†’ ç»§ç»­è¿è¡Œ/è¿›å…¥å®‰å…¨æ¨¡å¼/é‡å¯
```

### å†…å­˜ç®¡ç†æµç¨‹

```
å†…å­˜ç›‘æ§ â†’ é˜ˆå€¼æ£€æŸ¥ â†’ åƒåœ¾å›æ”¶ â†’ æ·±åº¦æ¸…ç† â†’ 
çŠ¶æ€æŠ¥å‘Š â†’ ç»§ç»­ç›‘æ§
```

## âš ï¸ é‡è¦è¯´æ˜

- **å†…å­˜é™åˆ¶**: ESP32C3åªæœ‰264KBå†…å­˜ï¼Œå¿…é¡»æ—¶åˆ»æ³¨æ„å†…å­˜ä½¿ç”¨
- **æ–‡ä»¶ä½ç½®**: ä¸»è¦ä»£ç ä½äº `./src` ç›®å½•
- **é…ç½®ç®¡ç†**: æ‰€æœ‰é…ç½®é¡¹éƒ½åœ¨ `src/config.py` ä¸­å®šä¹‰
- **è¯­è¨€**: ä»£ç æ³¨é‡Šå’Œæ–‡æ¡£ä½¿ç”¨ä¸­æ–‡

## ğŸ“ æ–‡æ¡£æ›´æ–°è§„èŒƒ

### æ›´æ–°è¦æ±‚

**é‡è¦**: ä»¥åæ¯æ¬¡æ›´æ–°åŠŸèƒ½åï¼Œå¿…é¡»åŒæ­¥æ›´æ–°ç›¸å…³æ–‡æ¡£å’Œæ³¨é‡Šï¼Œç¡®ä¿æ–‡æ¡£ä¸ä»£ç ä¿æŒä¸€è‡´ã€‚

### æ›´æ–°æ¸…å•

åœ¨å®ŒæˆåŠŸèƒ½å¼€å‘åï¼Œè¯·æ£€æŸ¥å¹¶æ›´æ–°ä»¥ä¸‹å†…å®¹ï¼š

#### 1. ä»£ç æ–‡æ¡£
- [ ] æ›´æ–°å‡½æ•°å’Œç±»çš„æ–‡æ¡£å­—ç¬¦ä¸²
- [ ] æ›´æ–°å‚æ•°è¯´æ˜å’Œè¿”å›å€¼æè¿°
- [ ] æ·»åŠ æ–°å¢åŠŸèƒ½çš„è¯¦ç»†æ³¨é‡Š
- [ ] æ›´æ–°é…ç½®å‚æ•°è¯´æ˜

#### 2. é¡¹ç›®æ–‡æ¡£
- [ ] æ›´æ–° `README.md` ä¸­çš„åŠŸèƒ½æè¿°
- [ ] æ›´æ–° `CLAUDE.md` ä¸­çš„æŠ€æœ¯ç»†èŠ‚
- [ ] æ›´æ–°é…ç½®ç¤ºä¾‹å’Œå‚æ•°è¯´æ˜
- [ ] æ·»åŠ æ–°åŠŸèƒ½çš„ä½¿ç”¨è¯´æ˜

#### 3. ç”¨æˆ·æ–‡æ¡£
- [ ] æ›´æ–°å¸¸è§é—®é¢˜è§£ç­”
- [ ] æ·»åŠ æ–°åŠŸèƒ½çš„é…ç½®æŒ‡å¯¼
- [ ] æ›´æ–°è°ƒè¯•å’Œç›‘æ§è¯´æ˜
- [ ] æ·»åŠ æ•…éšœæ’é™¤æŒ‡å—

### æ›´æ–°æµç¨‹

1. **åŠŸèƒ½å¼€å‘** â†’ å®Œæˆä»£ç å®ç°
2. **ä»£ç æ³¨é‡Š** â†’ æ·»åŠ è¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Š
3. **æ–‡æ¡£æ›´æ–°** â†’ åŒæ­¥æ›´æ–°README.mdå’ŒCLAUDE.md
4. **éªŒè¯æ£€æŸ¥** â†’ ç¡®ä¿æ–‡æ¡£ä¸ä»£ç ä¸€è‡´
5. **æäº¤å®¡æ ¸** â†’ æäº¤å‰å†æ¬¡æ£€æŸ¥æ–‡æ¡£å®Œæ•´æ€§

### æ–‡æ¡£æ ‡å‡†

- **å‡†ç¡®æ€§**: æ–‡æ¡£å¿…é¡»ä¸å®é™…ä»£ç è¡Œä¸ºä¸€è‡´
- **å®Œæ•´æ€§**: åŒ…å«é…ç½®ã€ä½¿ç”¨ã€è°ƒè¯•ç­‰å®Œæ•´ä¿¡æ¯
- **æ—¶æ•ˆæ€§**: åŠæ—¶æ›´æ–°ï¼Œé¿å…è¿‡æ—¶ä¿¡æ¯
- **å¯è¯»æ€§**: ä½¿ç”¨æ¸…æ™°çš„ç»“æ„å’Œç¤ºä¾‹

### è´£ä»»åˆ†å·¥

- **å¼€å‘è€…**: è´Ÿè´£æ›´æ–°æ‰€å¼€å‘åŠŸèƒ½çš„æ–‡æ¡£
- **å®¡æ ¸è€…**: æ£€æŸ¥æ–‡æ¡£å®Œæ•´æ€§å’Œå‡†ç¡®æ€§
- **ç»´æŠ¤è€…**: å®šæœŸæ£€æŸ¥æ–‡æ¡£æ›´æ–°æƒ…å†µ

> **æç¤º**: è‰¯å¥½çš„æ–‡æ¡£æ˜¯é¡¹ç›®æˆåŠŸçš„å…³é”®ï¼Œè¯·åŠ¡å¿…é‡è§†æ–‡æ¡£æ›´æ–°å·¥ä½œï¼

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºæ”¹è¿›å»ºè®®ï¼

### è´¡çŒ®æ–¹å¼

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»ºPull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚

## ğŸ“ æ”¯æŒ

å¦‚æœæ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è·å–æ”¯æŒï¼š

- ğŸ“§ **é‚®ä»¶æ”¯æŒ**: [your-email@example.com](mailto:your-email@example.com)
- ğŸ› **é—®é¢˜æŠ¥å‘Š**: [GitHub Issues](https://github.com/your-username/IOT_ESP32C3_HA/issues)
- ğŸ“– **æ–‡æ¡£**: [é¡¹ç›® Wiki](https://github.com/your-username/IOT_ESP32C3_HA/wiki)

---

**æœ€åæ›´æ–°**: 2025-08-08  
**ç‰ˆæœ¬**: 1.1.0  
**ç»´æŠ¤è€…**: ESP32C3 å¼€å‘å›¢é˜Ÿ